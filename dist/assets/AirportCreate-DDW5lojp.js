import{a as T,r as a,j as e,T as v,g as S,h as w}from"./index-DTNBVJXJ.js";import{a as E}from"./api-alN533tX.js";import{P as I}from"./PageTitle-BSd58_4C.js";import{l as A}from"./logo-sm-DeRMNujR.js";import{I as B}from"./IconifyIcon-C822AO2m.js";import{R as h,C as F}from"./Row-BAydH47-.js";import{C as L}from"./Card-LdjoLELL.js";import{C as G}from"./CardBody-ffggLUo-.js";import{F as t}from"./Form-C-a0Gm7P.js";import{B as M}from"./Button-D3ui8Ipe.js";import"./iconify-DGrS6a3F.js";import"./CardHeaderContext-Cg4WHjpo.js";import"./divWithClassName-Bqr9clmc.js";import"./FormCheck-BrI6a1VK.js";import"./FormContext-BNTEYguM.js";import"./ElementChildren-a0xZHth5.js";import"./FormControl-CXDbjkuY.js";import"./FormLabel-CLyi9vaj.js";import"./Button-LfktIHOk.js";const te=()=>{const g=T(),[j,o]=a.useState(!1),[f,i]=a.useState(""),[R,n]=a.useState("success"),[r,p]=a.useState(!1),[l,C]=a.useState(""),[c,y]=a.useState(""),[d,N]=a.useState(""),b=async()=>{var u,x;if(!l||!c||!d){i("All fields (name, code, country) are required"),n("danger"),o(!0);return}p(!0);const s={name:l,code:c,country:d};try{(await E.post("/airport",s)).status===201&&(i("Airport added successfully."),n("success"),o(!0),setTimeout(()=>g("/airport"),2e3))}catch(m){console.error("Error uploading airport:",m),i(((x=(u=m.response)==null?void 0:u.data)==null?void 0:x.message)||"Failed to add airport."),n("danger"),o(!0)}finally{p(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"New Airport"}),e.jsxs(v,{onClose:()=>o(!1),show:j,delay:3e3,autohide:!0,style:{position:"fixed",top:20,right:20,zIndex:9999},children:[e.jsxs(S,{children:[e.jsx("img",{src:A,alt:"brand-logo",height:"16",className:"me-1"}),e.jsx("strong",{className:"me-auto",children:"TECHMIN"})]}),e.jsx(w,{children:f})]}),e.jsx(h,{children:e.jsx(F,{xs:12,children:e.jsx(L,{children:e.jsx(G,{children:e.jsxs(h,{className:"p-10",children:[e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Name"}),e.jsx(t.Control,{type:"text",value:l,onChange:s=>C(s.target.value),placeholder:"Enter airport name",disabled:r})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Code"}),e.jsx(t.Control,{type:"text",value:c,onChange:s=>y(s.target.value),placeholder:"Enter airport code",disabled:r})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Country"}),e.jsx(t.Control,{type:"text",value:d,onChange:s=>N(s.target.value),placeholder:"Enter country",disabled:r})]}),e.jsxs(M,{variant:"primary",className:"w-100 mt-3",onClick:b,disabled:r,children:[e.jsx(B,{icon:"mdi:upload"})," ",r?"Creating...":"Create Airport"]})]})})})})})]})};export{te as default};
