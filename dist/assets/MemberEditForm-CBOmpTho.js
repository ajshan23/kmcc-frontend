import{d as h,u as x,r as t,j as e,T as g,h as j,i as b}from"./index-D9C8xGDJ.js";import{a as M}from"./api-CQpZrRPq.js";import{M as y}from"./MemberForm-e1fm4iuz.js";import{P as T}from"./PageTitle-CTV_nOCB.js";import{l as C}from"./logo-sm-Bq_R7RX3.js";import{C as S,a as I}from"./Card-Bg5eLJtX.js";import"./iconify-D7I9lgUj.js";import"./cropper-CrwDflkO.js";import"./Form-B7ZRRNa0.js";import"./FormCheck-CFPqw4o6.js";import"./FormContext-D-yD9u-c.js";import"./ElementChildren-DgCQtZUg.js";import"./FormControl-DWlS3GFR.js";import"./FormLabel-BEDtgQcg.js";import"./Row-DNXGtDaS.js";import"./Button-jzwfO54I.js";import"./Button-_Yz-NvGp.js";import"./CardHeaderContext-B6CePyy5.js";import"./divWithClassName-2VyLv_7K.js";const O=()=>{const{memberId:a}=h(),i=x(),[s,c]=t.useState(null),[d,l]=t.useState(!0),[u,r]=t.useState(!1),[p,m]=t.useState("");t.useEffect(()=>{(async()=>{try{const o=await M.get(`/constitution-committees/members/${a}`);o.status===200&&c(o.data.data)}catch(o){console.error("Error fetching member:",o),m("Failed to load member data"),r(!0)}finally{l(!1)}})()},[a]);const f=n=>{m("Member updated successfully"),r(!0),setTimeout(()=>{i(`/constitution-committees/${n.committeeId}`)},1500)};return d?e.jsx("div",{className:"d-flex justify-content-center p-5",children:"Loading..."}):s?e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Edit Committee Member"}),e.jsxs(g,{onClose:()=>r(!1),show:u,delay:5e3,autohide:!0,style:{position:"fixed",top:20,right:20,zIndex:9999},children:[e.jsxs(j,{children:[e.jsx("img",{src:C,alt:"brand-logo",height:"16",className:"me-1"}),e.jsx("strong",{className:"me-auto",children:"KMCC"})]}),e.jsx(b,{children:p})]}),e.jsx(S,{children:e.jsx(I,{children:e.jsx(y,{committeeId:s.committeeId,initialData:s,onSuccess:f,onCancel:()=>i(`/constitution-committees/${s.committeeId}`)})})})]}):e.jsx("div",{className:"d-flex justify-content-center p-5",children:"Member not found"})};export{O as default};
