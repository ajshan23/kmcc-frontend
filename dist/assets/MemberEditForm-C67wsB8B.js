import{d as j,u as b,r as s,j as t,T as M,h as y,i as S}from"./index-oZOXagb6.js";import{a as T}from"./api-CQpZrRPq.js";import{M as C}from"./MemberForm-EUjsBDf0.js";import{P as E}from"./PageTitle-CDfmxWcc.js";import{l as w}from"./logo-sm-Bq_R7RX3.js";import{S as v}from"./Spinner-CWr4oDD1.js";import{C as F,a as I}from"./Card-CByQ_iKt.js";import"./iconify-DRmFi74x.js";import"./cropper-IlnVdF3t.js";import"./Form-RlP0Rjz3.js";import"./FormCheck-Bhm0cQQY.js";import"./FormContext-Bl_nBIxk.js";import"./FormCheckInput-BXTlCTZ2.js";import"./ElementChildren-B0W_E0jD.js";import"./FormControl-7vMxEVbB.js";import"./FormLabel-Bo8_nfdL.js";import"./Col-CliyWdof.js";import"./Alert-DHAgDNHD.js";import"./hook-BSmuNoS1.js";import"./extends-CF3RwP-h.js";import"./divWithClassName-D5RmpbwJ.js";import"./Anchor-Myl3kwLU.js";import"./useEventCallback-BEJq0vfy.js";import"./Button-B8bHFfcq.js";import"./Row-BRTb4Q3x.js";import"./Button-BjDVT7iL.js";import"./CardHeaderContext-DZwIQcmL.js";const ot=()=>{const{committeeId:o,memberId:i}=j(),r=b(),[m,u]=s.useState(null),[f,n]=s.useState(!0),[h,a]=s.useState(!1),[x,c]=s.useState("");s.useEffect(()=>{(async()=>{var l,p;try{n(!0);const e=await T.get(`/constitution-committees/members/${i}`);if(e.status===200)u(e.data.data);else throw new Error("Failed to fetch member")}catch(e){console.error("Error fetching member:",e),c(((p=(l=e.response)==null?void 0:l.data)==null?void 0:p.message)||"Failed to load member data"),a(!0),r(`/constitution-committees/${o}`)}finally{n(!1)}})()},[i,o,r]);const g=d=>{c("Member updated successfully"),a(!0),setTimeout(()=>{r(`/constitution-committees/${d.committeeId}`)},1500)};return f?t.jsx("div",{className:"d-flex justify-content-center p-5",children:t.jsx(v,{animation:"border",variant:"primary"})}):m?t.jsxs(t.Fragment,{children:[t.jsx(E,{title:"Edit Committee Member"}),t.jsxs(M,{onClose:()=>a(!1),show:h,delay:5e3,autohide:!0,style:{position:"fixed",top:20,right:20,zIndex:9999},children:[t.jsxs(y,{children:[t.jsx("img",{src:w,alt:"brand-logo",height:"16",className:"me-1"}),t.jsx("strong",{className:"me-auto",children:"KMCC"})]}),t.jsx(S,{children:x})]}),t.jsx(F,{children:t.jsx(I,{children:t.jsx(C,{committeeId:o,initialData:m,onSuccess:g,onCancel:()=>r(`/constitution-committees/${o}`)})})})]}):t.jsx("div",{className:"d-flex justify-content-center p-5",children:"Member not found"})};export{ot as default};
