import{d as D,a as O,q as T}from"./DataKey-COGXBUcQ.js";import{r as n,j as m}from"./index-D9C8xGDJ.js";import{u as P,S as b,N as q,m as k}from"./NavContext-B1rVRbJL.js";import{u as L}from"./useMergedRefs-ChISKg02.js";import{N as U,T as _}from"./NavItem-36seL4NA.js";const B=["as","onSelect","activeKey","role","onKeyDown"];function $(r,d){if(r==null)return{};var l={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(d.indexOf(o)>=0)continue;l[o]=r[o]}return l}const K=()=>{},R=D("event-key"),E=n.forwardRef((r,d)=>{let{as:l="div",onSelect:o,activeKey:p,role:c,onKeyDown:x}=r,I=$(r,B);const j=P(),f=n.useRef(!1),C=n.useContext(b),s=n.useContext(_);let g,y;s&&(c=c||"tablist",p=s.activeKey,g=s.getControlledId,y=s.getControllerId);const i=n.useRef(null),h=e=>{const t=i.current;if(!t)return null;const u=T(t,`[${R}]:not([aria-disabled=true])`),v=t.querySelector("[aria-selected=true]");if(!v||v!==document.activeElement)return null;const N=u.indexOf(v);if(N===-1)return null;let a=N+e;return a>=u.length&&(a=0),a<0&&(a=u.length-1),u[a]},w=(e,t)=>{e!=null&&(o==null||o(e,t),C==null||C(e,t))},A=e=>{if(x==null||x(e),!s)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=h(-1);break;case"ArrowRight":case"ArrowDown":t=h(1);break;default:return}t&&(e.preventDefault(),w(t.dataset[O("EventKey")]||null,e),f.current=!0,j())};n.useEffect(()=>{if(i.current&&f.current){const e=i.current.querySelector(`[${R}][aria-selected=true]`);e==null||e.focus()}f.current=!1});const S=L(d,i);return m.jsx(b.Provider,{value:w,children:m.jsx(q.Provider,{value:{role:c,activeKey:k(p),getControlledId:g||K,getControllerId:y||K},children:m.jsx(l,Object.assign({},I,{onKeyDown:A,ref:S,role:c}))})})});E.displayName="Nav";const z=Object.assign(E,{Item:U});export{z as B};
