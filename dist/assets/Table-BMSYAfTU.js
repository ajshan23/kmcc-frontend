import{r as a,a as j,j as e}from"./index-DPuNUjLg.js";import{P as p}from"./PageTitle-CqWn3q0T.js";import{N as b,f as u}from"./no-BcGxh0SZ.js";import{R as g,C as f}from"./Row-CcHO1i0D.js";import{C as N}from"./Card-BZ6UHl2I.js";import{C as v}from"./CardBody-CGT1fL4u.js";import"./CardHeaderContext-DMcAJQTf.js";import"./divWithClassName-CR8nEuA8.js";const T=()=>{const[i,c]=a.useState([]),[r,d]=a.useState(""),[t,l]=a.useState(1),[n,o]=a.useState(1),h=j(),m=async()=>{try{const s=await u(`http://13.203.184.112:3000/api/admin/users?page=${t}&limit=10&search=${r}`);c(s.data.users),o(s.data.pagination.totalPages)}catch(s){console.error("Error fetching users:",s)}};return a.useEffect(()=>{m()},[t,r]),e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Users Table"}),e.jsx(g,{children:e.jsx(f,{xs:12,children:e.jsx(N,{children:e.jsxs(v,{children:[e.jsx("div",{className:"d-flex justify-content-between mb-3",children:e.jsx("input",{type:"text",placeholder:"Search users...",className:"form-control w-25",value:r,onChange:s=>d(s.target.value)})}),e.jsx("div",{className:"responsive-table-plugin",children:e.jsx("div",{className:"table-rep-plugin",children:e.jsx("div",{className:"table-responsive","data-pattern":"priority-columns",children:e.jsxs("table",{id:"users-table",className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Iqama Number"}),e.jsx("th",{children:"Member ID"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Profile"})]})}),e.jsx("tbody",{children:i.length>0?i.map((s,x)=>e.jsxs("tr",{className:"align-middle",onClick:()=>h(`/users/${s.id}`),children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:s.iqamaNumber}),e.jsx("td",{children:s.memberId}),e.jsx("td",{children:s.phoneNumber}),e.jsx("td",{children:s.profileImage?e.jsx("img",{src:`data:image/png;base64,${s.profileImage}`,alt:"Profile",style:{width:40,height:40,borderRadius:"50%"}}):e.jsx("img",{src:b,alt:"Profile",style:{width:40,height:40,borderRadius:"50%"}})})]},x)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No users found"})})})]})})})}),e.jsxs("div",{className:"d-flex justify-content-between mt-3",children:[e.jsx("button",{className:"btn btn-primary",disabled:t<=1,onClick:()=>l(s=>s-1),children:"Previous"}),e.jsxs("span",{children:["Page ",t," of ",n]}),e.jsx("button",{className:"btn btn-primary",disabled:t>=n,onClick:()=>l(s=>s+1),children:"Next"})]})]})})})})]})};export{T as default};
