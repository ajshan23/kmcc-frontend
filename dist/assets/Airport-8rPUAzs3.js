import{r,j as e,T as b,g as T,h as N,L as S}from"./index-DTNBVJXJ.js";import{P as I}from"./PageTitle-BSd58_4C.js";import{a as m}from"./api-alN533tX.js";import{I as M}from"./IconifyIcon-C822AO2m.js";import{l as D}from"./logo-sm-DeRMNujR.js";import{C as k}from"./Container-C8uZIFSP.js";import{R as u,C as d}from"./Row-BAydH47-.js";import{B as o}from"./Button-D3ui8Ipe.js";import{T as E}from"./Table-CdBy4kPS.js";import{M as s}from"./Modal-DKRSr83T.js";import"./iconify-DGrS6a3F.js";import"./Button-LfktIHOk.js";import"./AbstractModalHeader-D6I5S5PL.js";import"./useWindow-xTJRIZxH.js";import"./usePrevious-Dd_7dJOG.js";import"./useEventCallback-Kge2rWHC.js";import"./hasClass-DSnRUSEg.js";import"./useMergedRefs-BnvYSThD.js";import"./NoopTransition-BwsqUNgw.js";import"./DataKey-COGXBUcQ.js";import"./divWithClassName-Bqr9clmc.js";const ee=()=>{const[j,c]=r.useState([]),[f,h]=r.useState(!1),[i,p]=r.useState(null),[y,x]=r.useState(""),[g,l]=r.useState(!1);r.useEffect(()=>{A()},[]);const A=async()=>{try{const t=await m.get("/airport");t.status===200&&c(t.data.data)}catch(t){console.error("Error fetching airports:",t)}},w=t=>{p(t),h(!0)},a=()=>{h(!1),p(null)},C=async()=>{if(i)try{(await m.delete(`/airport/${i}`)).status===200&&(c(n=>n.filter(v=>v.id!==i)),x("Airport deleted successfully!"),l(!0))}catch(t){console.error("Error deleting airport:",t),x("Failed to delete airport."),l(!0)}finally{a()}};return e.jsxs(k,{className:"p-4",children:[e.jsx(I,{title:"Airport"}),e.jsxs(b,{onClose:()=>l(!1),show:g,delay:5e3,autohide:!0,style:{position:"fixed",top:20,right:20,zIndex:9999},children:[e.jsxs(T,{children:[e.jsx("img",{src:D,alt:"brand-logo",height:"16",className:"me-1"}),e.jsx("strong",{className:"me-auto",children:"TECHMIN"})]}),e.jsx(N,{children:y})]}),e.jsx(u,{children:e.jsx(d,{xs:12,children:e.jsxs("div",{className:"p-3 bg-white border rounded",style:{width:"70vw"},children:[e.jsxs(u,{className:"d-flex justify-content-between align-items-center p-2",children:[e.jsx(d,{xs:"auto",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search",style:{width:"250px",borderRadius:10}})}),e.jsx(d,{xs:"auto",children:e.jsx(o,{variant:"dark",as:S,to:"/airport/new",style:{padding:"10px 20px",borderRadius:10},children:"New Airport"})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(E,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"mt-3 text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"center"},children:"Name"}),e.jsx("th",{style:{textAlign:"center"},children:"Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Country"}),e.jsx("th",{style:{textAlign:"center"},children:"Actions"})]})}),e.jsx("tbody",{children:j.map((t,n)=>e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"middle"},children:t.name}),e.jsx("td",{style:{verticalAlign:"middle"},children:t.iataCode}),e.jsx("td",{style:{verticalAlign:"middle"},children:t.country}),e.jsx("td",{style:{verticalAlign:"middle"},children:e.jsx(o,{type:"button",variant:"danger",onClick:()=>w(t.id),children:e.jsx(M,{color:"white",icon:"ri:delete-bin-4-fill"})})})]},n))})]})})]})})}),e.jsxs(s,{show:f,onHide:a,centered:!0,children:[e.jsx(s.Header,{closeButton:!0,children:e.jsx(s.Title,{children:"Delete Airport"})}),e.jsx(s.Body,{children:"Are you sure you want to delete this airport? This action cannot be undone."}),e.jsxs(s.Footer,{children:[e.jsx(o,{variant:"secondary",onClick:a,children:"Cancel"}),e.jsx(o,{variant:"danger",onClick:C,children:"Delete"})]})]})]})};export{ee as default};
