import{d as h,u as x,r as e,j as t,T as g,h as j,i as b}from"./index-DKQPNifM.js";import{a as M}from"./api-BAouzzCb.js";import{M as y}from"./MemberForm-BPuOl5zO.js";import{P as C}from"./PageTitle-CRu15oFp.js";import{l as T}from"./logo-sm-DeRMNujR.js";import{C as S}from"./Card-D59v7jI9.js";import{C as I}from"./CardBody-DcEFUZwh.js";import"./iconify-BZ3wrvzO.js";import"./cropper-B1mUTWjM.js";import"./Form-msQAt-qp.js";import"./FormCheck-BrYDrZ1e.js";import"./FormContext-wZ54zJwb.js";import"./FormCheckInput-B_azkgLI.js";import"./ElementChildren-CJ8krY86.js";import"./FormControl-BA3XJbTj.js";import"./FormLabel-BnU1TUmx.js";import"./Row-Z0t_gNsB.js";import"./Button-CJm9uxN6.js";import"./Button-dGMJGo8F.js";import"./CardHeaderContext-kdxd1e-2.js";import"./divWithClassName-CmLA-jjW.js";const U=()=>{const{memberId:a}=h(),i=x(),[s,c]=e.useState(null),[d,l]=e.useState(!0),[u,r]=e.useState(!1),[p,m]=e.useState("");e.useEffect(()=>{(async()=>{try{const o=await M.get(`/constitution-committees/members/${a}`);o.status===200&&c(o.data.data)}catch(o){console.error("Error fetching member:",o),m("Failed to load member data"),r(!0)}finally{l(!1)}})()},[a]);const f=n=>{m("Member updated successfully"),r(!0),setTimeout(()=>{i(`/constitution-committees/${n.committeeId}`)},1500)};return d?t.jsx("div",{className:"d-flex justify-content-center p-5",children:"Loading..."}):s?t.jsxs(t.Fragment,{children:[t.jsx(C,{title:"Edit Committee Member"}),t.jsxs(g,{onClose:()=>r(!1),show:u,delay:5e3,autohide:!0,style:{position:"fixed",top:20,right:20,zIndex:9999},children:[t.jsxs(j,{children:[t.jsx("img",{src:T,alt:"brand-logo",height:"16",className:"me-1"}),t.jsx("strong",{className:"me-auto",children:"KMCC"})]}),t.jsx(b,{children:p})]}),t.jsx(S,{children:t.jsx(I,{children:t.jsx(y,{committeeId:s.committeeId,initialData:s,onSuccess:f,onCancel:()=>i(`/constitution-committees/${s.committeeId}`)})})})]}):t.jsx("div",{className:"d-flex justify-content-center p-5",children:"Member not found"})};export{U as default};
