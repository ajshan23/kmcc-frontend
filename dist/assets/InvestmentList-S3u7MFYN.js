import{r,u as g,j as e,T as d}from"./index-VzOysTvz.js";import{a as v}from"./api-CQpZrRPq.js";import{P as I}from"./PageTitle-Amhy0bFR.js";import{I as b}from"./IconifyIcon-LG_YGEyj.js";import{S as y}from"./Spinner-CHf9NE0n.js";import{C as c}from"./Card-8_upJKoj.js";import{B as n}from"./Button-BylzbV0n.js";import{T as S}from"./Table-BNRC61Q3.js";import{B as l}from"./Badge-Bdrp5a7W.js";import"./iconify-SC4jjo5u.js";import"./CardHeaderContext-3yahSJVu.js";import"./divWithClassName-C0MZErg6.js";import"./Button-BedQCe8q.js";const M=()=>{const[h,m]=r.useState([]),[x,j]=r.useState(!0),[p,a]=r.useState(!1),[u,f]=r.useState(""),i=g();return r.useEffect(()=>{(async()=>{try{const t=await v.get("/investments");m(t.data.data)}catch{f("Failed to load investments"),a(!0)}finally{j(!1)}})()},[]),x?e.jsx("div",{className:"d-flex justify-content-center p-5",children:e.jsx(y,{animation:"border"})}):e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Long-Term Investments",breadcrumbItems:[{label:"Investments",path:"/investments"},{label:"All Investments",active:!0}]}),e.jsx(d,{onClose:()=>a(!1),show:p,delay:3e3,autohide:!0,style:{position:"fixed",top:20,right:20,zIndex:9999},children:e.jsx(d.Body,{children:u})}),e.jsx(c,{children:e.jsxs(c.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[e.jsx("h4",{children:"Investment Accounts"}),e.jsxs(n,{variant:"primary",onClick:()=>i("/investments/new"),children:[e.jsx(b,{icon:"mdi:plus",className:"me-1"}),"New Investment"]})]}),e.jsxs(S,{striped:!0,hover:!0,responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Member"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Deposited"}),e.jsx("th",{children:"Profit"}),e.jsx("th",{children:"Paid Out"}),e.jsx("th",{children:"Pending"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:h.map(s=>{var t,o;return e.jsxs("tr",{children:[e.jsxs("td",{children:[((t=s.user)==null?void 0:t.name)||"N/A"," ",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:((o=s.user)==null?void 0:o.memberId)||"N/A"})]}),e.jsx("td",{children:e.jsx(l,{bg:s.isActive?"success":"secondary",children:s.isActive?"Active":"Closed"})}),e.jsxs("td",{children:["$",s.totalDeposited.toLocaleString()]}),e.jsxs("td",{children:["$",s.totalProfit.toLocaleString()]}),e.jsxs("td",{children:["$",s.profitDistributed.toLocaleString()]}),e.jsx("td",{children:e.jsxs(l,{bg:s.profitPending>0?"warning":"light",children:["$",s.profitPending.toLocaleString()]})}),e.jsxs("td",{children:[e.jsx(n,{size:"sm",variant:"info",className:"me-2",onClick:()=>i(`/investments/${s.id}`),children:"View"}),s.isActive&&e.jsx(n,{size:"sm",variant:"danger",onClick:()=>i(`/investments/${s.id}`),children:"Close"})]})]},s.id)})})]})]})})]})};export{M as default};
